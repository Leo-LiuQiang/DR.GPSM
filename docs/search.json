[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 DR.GPSM authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Yuan Liu. Author. Mingrui Zhang. Author. Qiang Liu. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Liu Y, Zhang M, Liu Q (2025). DR.GPSM: Doubly-Robust Generalized Propensity Score Matching Multiple Treatments. R package version 0.0.1.","code":"@Manual{,   title = {DR.GPSM: Doubly-Robust Generalized Propensity Score Matching for Multiple Treatments},   author = {Yuan Liu and Mingrui Zhang and Qiang Liu},   year = {2025},   note = {R package version 0.0.1}, }"},{"path":[]},{"path":"/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Doubly-Robust Generalized Propensity Score Matching for Multiple Treatments","text":"DR.GPSM (Doubly-Robust Generalized Propensity Score Matching) R package implementing Balance-based Generalized Propensity Score Matching (BGPSM) framework proposed Dr. Mingrui Zhang Dr. Yuan Liu. method addresses challenge estimating average treatment effects (ATE) observational studies multi-valued treatments, combining: Generalized Propensity Score (GPS) modeling, account confounding; Matching strategies across multiple treatment groups, construct balanced cohorts; Doubly-robust adjustment using optional outcome models improve estimation efficiency reduce bias. package designed researchers causal inference, epidemiology, health services research, social sciences need flexible statistically rigorous tools ATE estimation 2+ treatment groups.","code":""},{"path":"/index.html","id":"key-features","dir":"","previous_headings":"","what":"Key Features","title":"Doubly-Robust Generalized Propensity Score Matching for Multiple Treatments","text":"Generalized Propensity Score (GPS) modeling using: Logistic multinomial regression (logit) Random Forest (rf) Gradient Boosted Models (gbm) Generalized Additive Models (gam) Balance-based matching algorithm constructs matched sets across treatment levels simultaneously. Doubly-robust estimation optional outcome regression (none, lm, rf) bias correction. Visualization utilities GPS distribution (overlay histograms). Designed binary multi-valued treatments.","code":""},{"path":"/index.html","id":"background","dir":"","previous_headings":"","what":"Background","title":"Doubly-Robust Generalized Propensity Score Matching for Multiple Treatments","text":"observational studies, treatments randomly assigned, leading potential confounding bias estimating causal effect treatment outcomes. Imbens (2000) generalized propensity score framework multi-valued treatments. Since , multiple approaches (matching, weighting, regression, clustering) developed estimate ATE settings. Matching-based strategies (Lechner, 2001; Yang et al., 2016) attractive create balanced pseudo-cohorts emulate randomized trials. However, traditional pairwise trio-based matching approaches suffer : Inconsistent target populations across pairwise contrasts; Computational burden number treatment groups grows. Balance-based GPS Matching method Zhang Liu (2022) improves upon limitations : Matching across treatment levels simultaneously; Introducing balance-based stopping rule prune poor matches; Allowing doubly-robust bias correction via outcome regression.","code":""},{"path":[]},{"path":"/index.html","id":"methodology","dir":"","previous_headings":"","what":"Methodology","title":"Doubly-Robust Generalized Propensity Score Matching for Multiple Treatments","text":"Causal Framework Treatments: T∈{t1,t2,...,tZ}T \\\\{ t_1, t_2, ..., t_Z \\} Outcome: Continuous response YY Covariates: XX Assumptions: - Strong unconfoundedness: T⊥(Y(t1),...,Y(tZ))∣XT \\perp (Y(t_1), ..., Y(t_Z)) \\mid X - Positivity: P(T=t∣X=x)>ηP(T = t \\mid X = x) > \\eta assumptions, average treatment effect identifiable: τ(t,t′)=E[Y(t)−Y(t′)] \\tau(t,t') = E[Y(t) - Y(t')] BGPSM Algorithm Highlights 1. Estimate GPS: r(t,x)=P(T=t∣X=x)r(t,x) = P(T = t \\mid X = x) 2. Construct matching sets using nearest neighbor search GPS vector. 3. Apply balance-based stopping rule exclude poor matches. 4. Optionally fit outcome regression models (linear, RF) doubly-robust bias correction. 5. Compute ATEs bootstrap confidence intervals.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Doubly-Robust Generalized Propensity Score Matching for Multiple Treatments","text":"","code":"# From GitHub (recommended) devtools::install_github(\"Leo-LiuQiang/DR.GPSM\")"},{"path":"/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Doubly-Robust Generalized Propensity Score Matching for Multiple Treatments","text":"","code":"library(DR.GPSM)  # Simulated example set.seed(123) n <- 100 dat <- data.frame(   trt = factor(sample(c(\"A\",\"B\",\"C\"), n, replace=TRUE)),   x1 = rnorm(n),   x2 = runif(n),   y  = rnorm(n) )  # Run doubly-robust GPS matching res <- dr_gpsm(   data = dat,   treatment = 1,   treatment_ref = \"A\",   covariate = 2:3,   outcome = 4,   gps_model = \"logit\",   outcome_model = \"lm\",   folds = 2,   nboot = 50 )  res$estimate  # Visualization of generalized propensity score overlap gps_df <- gps_pre_process(dat, treatment=1, covariate=2:3, gps_model=\"logit\") p <- gps_histogram(gps_df) print(p)"},{"path":"/reference/build_contrast.html","id":null,"dir":"Reference","previous_headings":"","what":"Create all-pairwise contrast matrix — build_contrast","title":"Create all-pairwise contrast matrix — build_contrast","text":"Create -pairwise contrast matrix","code":""},{"path":"/reference/build_contrast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create all-pairwise contrast matrix — build_contrast","text":"","code":"build_contrast(levels, ref = NULL)"},{"path":"/reference/build_contrast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create all-pairwise contrast matrix — build_contrast","text":"levels Character vector treatment levels ref Reference treatment level (default = first level)","code":""},{"path":"/reference/build_contrast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create all-pairwise contrast matrix — build_contrast","text":"contrast matrix size Choose(K, 2) × K entries -1, 0, 1","code":""},{"path":"/reference/dr_gpsm.html","id":null,"dir":"Reference","previous_headings":"","what":"Doubly-robust GPS matching estimator — dr_gpsm","title":"Doubly-robust GPS matching estimator — dr_gpsm","text":"Doubly-robust GPS matching estimator","code":""},{"path":"/reference/dr_gpsm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Doubly-robust GPS matching estimator — dr_gpsm","text":"","code":"dr_gpsm(   data,   treatment,   treatment_ref = NULL,   covariate,   outcome,   gps_model = c(\"logit\", \"rf\", \"gbm\", \"gam\"),   outcome_model = c(\"none\", \"lm\", \"rf\"),   folds = 2,   nboot = 500,   hist = FALSE,   hist_path = NULL )"},{"path":"/reference/dr_gpsm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Doubly-robust GPS matching estimator — dr_gpsm","text":"data Data frame treatment, covariates, outcome variables treatment Column index treatment variable treatment_ref Reference treatment level (default = first level) covariate Numeric vector covariate column indices outcome Column index outcome variable gps_model Choice GPS model: 'logit', 'rf', 'gbm', 'gam' outcome_model Choice outcome model doubly-robust adjustment: 'none', 'lm', 'rf' folds Number folds cross-fitting (default = 2) nboot Number bootstrap replications (default = 500) hist Logical; TRUE save GPS histogram hist_path Character string specifying file path (pdf, png, jpg) save histogram (used hist = TRUE)","code":""},{"path":"/reference/dr_gpsm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Doubly-robust GPS matching estimator — dr_gpsm","text":"list components: estimate Named numeric vector doubly-robust ATE estimates contrast ci_lower Named numeric vector lower 95% confidence bounds ci_upper Named numeric vector upper 95% confidence bounds","code":""},{"path":"/reference/gps_histogram.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot overlaid histograms of Generalized Propensity Scores — gps_histogram","title":"Plot overlaid histograms of Generalized Propensity Scores — gps_histogram","text":"Plot overlaid histograms Generalized Propensity Scores","code":""},{"path":"/reference/gps_histogram.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot overlaid histograms of Generalized Propensity Scores — gps_histogram","text":"","code":"gps_histogram(data, bins = 30, palette = NULL, alpha = 0.4, eps = 1e-06)"},{"path":"/reference/gps_histogram.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot overlaid histograms of Generalized Propensity Scores — gps_histogram","text":"data Data frame returned gps_pre_process() (must contain gps_ columns) bins Number histogram bins (default = 30) palette Character vector fill colors (recycled shorter number GPS columns) alpha Fill transparency (0–1, default = 0.4) overlapping areas eps Small value truncate probabilities (avoids Inf logit; default = 1e-6)","code":""},{"path":"/reference/gps_histogram.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot overlaid histograms of Generalized Propensity Scores — gps_histogram","text":"ggplot object showing overlaid histograms density curves GPS distributions","code":""},{"path":"/reference/gps_matching.html","id":null,"dir":"Reference","previous_headings":"","what":"GPS-matching ATE estimator (numeric-column interface) — gps_matching","title":"GPS-matching ATE estimator (numeric-column interface) — gps_matching","text":"GPS-matching ATE estimator  (numeric-column interface)","code":""},{"path":"/reference/gps_matching.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GPS-matching ATE estimator (numeric-column interface) — gps_matching","text":"","code":"gps_matching(data, treatment, outcome, pred, contrast, nboot)"},{"path":"/reference/gps_matching.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GPS-matching ATE estimator (numeric-column interface) — gps_matching","text":"data Data frame pre-processed gps_pre_process() treatment Column index treatment variable outcome Column index outcome variable pred K × n cross-fitted residual matrix outcome model contrast C(K, 2) × K contrast matrix generated build_contrast() nboot Number bootstrap replications (default = 500)","code":""},{"path":"/reference/gps_matching.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"GPS-matching ATE estimator (numeric-column interface) — gps_matching","text":"list components: estimate Named numeric vector estimated ATEs contrast ci_lower Named numeric vector lower 95% confidence bounds ci_upper Named numeric vector upper 95% confidence bounds","code":""},{"path":"/reference/gps_pre_process.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized Propensity Score Model fitting — gps_pre_process","title":"Generalized Propensity Score Model fitting — gps_pre_process","text":"Generalized Propensity Score Model fitting","code":""},{"path":"/reference/gps_pre_process.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized Propensity Score Model fitting — gps_pre_process","text":"","code":"gps_pre_process(   data,   treatment,   treatment_ref = NULL,   covariate,   gps_model = c(\"logit\", \"rf\", \"gbm\", \"gam\") )"},{"path":"/reference/gps_pre_process.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized Propensity Score Model fitting — gps_pre_process","text":"data Data frame containing treatment, covariates, outcome variables treatment Column index treatment variable treatment_ref Reference treatment level (optional; default first level) covariate Numeric vector covariate column indices gps_model Choice GPS model: 'logit', 'rf', 'gbm', 'gam'","code":""},{"path":"/reference/gps_pre_process.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized Propensity Score Model fitting — gps_pre_process","text":"data frame containing original data plus estimated GPS columns (gps_) log-transformed GPS columns (loggps_)","code":""}]
